<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <title>Make Your Pladge</title>
  </head>
  <body>

<form>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-1">
        <input id="check-no-airplane" type="checkbox"/>
      </div>
      <div class="col-md-auto">
        Do not fly
      </div>
    </div><!-- row end -->
    <div class="row">
      <div class="col-md-1">
        <input id="check-do-electric-vehicle" type="checkbox"/>
      </div>
      <div class="col-md-auto">
        Electric car
      </div>
    </div><!-- row end -->
    <div class="row">
      <div class="col-md-1">
        <input id="check-no-meat" type="checkbox"/>
      </div>
      <div class="col-md-auto">
        Dont eat meat
      </div>
    </div><!-- row end -->

  <div class="col-md-auto">
    <img id="my-assembled-image"/>
    <div class="alert alert-success" role="alert">
    <a id="my-download-link" download>Click here to download</a>
    </div>
  </div>
</div> <!-- container end -->
</form>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://unpkg.com/merge-images" crossorigin="anonymous"></script>

<script type="text/javascript">
 $( document ).ready(function() {
   $("form input:checkbox").change(function ( event ) {


     imagesToMerge = [
              {src: 'PNG/howfarwillyougo-earth-base-left-200.png', x:0, y:0},
              // {src: 'PNG/no-airplane-100.png', x: 175, y: 25},
              // {src: 'PNG/do-electric-vehicle-100.png', x: 275, y: 25},
              // {src: 'PNG/no-meat-100.png', x:375, y:25}
            ];

    xOffset = 175;
    if ($("#check-no-airplane:checked").length > 0) { // it is a fucked up way to see if the checkbox is checked
      // alert("Thanks for checking me"); // do cool shit here
      imagesToMerge.push({src: 'PNG/no-airplane-100.png', x: xOffset, y: 25});
      xOffset += 100;
    }
    if ($("#check-do-electric-vehicle:checked").length > 0) { // it is a fucked up way to see if the checkbox is checked
      imagesToMerge.push({src: 'PNG/do-electric-vehicle-100.png', x: xOffset, y: 25});
      xOffset += 100;
    }
    if ($("#check-no-meat:checked").length > 0) { // it is a fucked up way to see if the checkbox is checked
      imagesToMerge.push({src: 'PNG/no-meat-100.png', x: xOffset, y: 25});
      xOffset += 100;
    }

    mergeImages(imagesToMerge).then(b64 => {
       $( "#my-assembled-image").attr('src', b64);
       $( "#my-download-link").attr('href', b64);
     });

     // event.preventDefault();
   });
 });
</script>


  </body>
</html>
